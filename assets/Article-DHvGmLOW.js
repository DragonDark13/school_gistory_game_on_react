import{e as ve,f as je,s as J,_ as h,r as _,h as ye,J as _e,K as Ce,k as Ee,b as be,z as $e,j as e,l as ze,n as Te,M as ee,a as U,i as G,T as v,R as we,F as te,c as ne,m as ie,B as b,u as Ne,N as Re,d as Me,C as Se,H as Ie,G as u,L as De}from"./index-JlX-qHCz.js";import{a as ke,d as Pe}from"./ArrowForwardIos-jmV-shVz.js";import{c as qe,C as Le,b as B,a as We}from"./CardHeader-IlWLPkCb.js";import{C as Ae}from"./CardMedia-tDIr7K1c.js";import{L as Fe}from"./LinearProgress-OSghZTVE.js";function He(i){return ve("MuiCollapse",i)}je("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ue=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ge=i=>{const{orientation:n,classes:r}=i,a={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return Te(a,He,r)},Oe=J("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:r}=i;return[n.root,n[r.orientation],r.state==="entered"&&n.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&n.hidden]}})(({theme:i,ownerState:n})=>h({height:0,overflow:"hidden",transition:i.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:i.transitions.create("width")},n.state==="entered"&&h({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),Qe=J("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(i,n)=>n.wrapper})(({ownerState:i})=>h({display:"flex",width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),Be=J("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(i,n)=>n.wrapperInner})(({ownerState:i})=>h({width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),se=_.forwardRef(function(n,r){const a=ye({props:n,name:"MuiCollapse"}),{addEndListener:p,children:x,className:l,collapsedSize:f="0px",component:o,easing:g,in:$,onEnter:z,onEntered:S,onEntering:I,onExit:D,onExited:k,onExiting:P,orientation:q="vertical",style:T,timeout:s=_e.standard,TransitionComponent:c=Ce}=a,L=Ee(a,Ue),j=h({},a,{orientation:q,collapsedSize:f}),C=Ge(j),W=be(),w=_.useRef(),y=_.useRef(null),O=_.useRef(),A=typeof f=="number"?`${f}px`:f,N=q==="horizontal",R=N?"width":"height";_.useEffect(()=>()=>{clearTimeout(w.current)},[]);const F=_.useRef(null),de=$e(r,F),E=t=>d=>{if(t){const m=F.current;d===void 0?t(m):t(m,d)}},Q=()=>y.current?y.current[N?"clientWidth":"clientHeight"]:0,ue=E((t,d)=>{y.current&&N&&(y.current.style.position="absolute"),t.style[R]=A,z&&z(t,d)}),pe=E((t,d)=>{const m=Q();y.current&&N&&(y.current.style.position="");const{duration:M,easing:H}=ee({style:T,timeout:s,easing:g},{mode:"enter"});if(s==="auto"){const Z=W.transitions.getAutoHeightDuration(m);t.style.transitionDuration=`${Z}ms`,O.current=Z}else t.style.transitionDuration=typeof M=="string"?M:`${M}ms`;t.style[R]=`${m}px`,t.style.transitionTimingFunction=H,I&&I(t,d)}),he=E((t,d)=>{t.style[R]="auto",S&&S(t,d)}),me=E(t=>{t.style[R]=`${Q()}px`,D&&D(t)}),xe=E(k),fe=E(t=>{const d=Q(),{duration:m,easing:M}=ee({style:T,timeout:s,easing:g},{mode:"exit"});if(s==="auto"){const H=W.transitions.getAutoHeightDuration(d);t.style.transitionDuration=`${H}ms`,O.current=H}else t.style.transitionDuration=typeof m=="string"?m:`${m}ms`;t.style[R]=A,t.style.transitionTimingFunction=M,P&&P(t)}),ge=t=>{s==="auto"&&(w.current=setTimeout(t,O.current||0)),p&&p(F.current,t)};return e.jsx(c,h({in:$,onEnter:ue,onEntered:he,onEntering:pe,onExit:me,onExited:xe,onExiting:fe,addEndListener:ge,nodeRef:F,timeout:s==="auto"?null:s},L,{children:(t,d)=>e.jsx(Oe,h({as:o,className:ze(C.root,l,{entered:C.entered,exited:!$&&A==="0px"&&C.hidden}[t]),style:h({[N?"minWidth":"minHeight"]:A},T),ownerState:h({},j,{state:t}),ref:de},d,{children:e.jsx(Qe,{ownerState:h({},j,{state:t}),className:C.wrapper,ref:y,children:e.jsx(Be,{ownerState:h({},j,{state:t}),className:C.wrapperInner,children:x})})}))}))});se.muiSupportAuto=!0;const Je=se;var K={},Ke=G;Object.defineProperty(K,"__esModule",{value:!0});var re=K.default=void 0,Ve=Ke(U()),Xe=e,Ye=(0,Ve.default)((0,Xe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");re=K.default=Ye;var V={},Ze=G;Object.defineProperty(V,"__esModule",{value:!0});var ae=V.default=void 0,et=Ze(U()),tt=e,nt=(0,et.default)((0,tt.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");ae=V.default=nt;var X={},it=G;Object.defineProperty(X,"__esModule",{value:!0});var oe=X.default=void 0,st=it(U()),rt=e,at=(0,st.default)((0,rt.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15zM14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2z"}),"QuestionMark");oe=X.default=at;var Y={},ot=G;Object.defineProperty(Y,"__esModule",{value:!0});var le=Y.default=void 0,lt=ot(U()),ct=e,dt=(0,lt.default)((0,ct.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");le=Y.default=dt;const ce=i=>{console.log("content",i);let n=`Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
                voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat
                non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.`;if(i){if(typeof i=="object"&&i.length>0)return i.map((r,a)=>e.jsx(v,{className:r.type&&r.type==="title"?"title":"text",variant:r.type&&r.type==="title"?"h6":"body1",children:r.text},a));if(typeof i=="string")return e.jsx(v,{children:i})}else return e.jsx(v,{children:n})},ut=({content:i,title:n,subArticleIndex:r,done:a})=>{const[p,x]=we.useState(!1),l=()=>{x(!p)},{selectedArticle:f}=te(),o=ne(),g=()=>{o(`/test/${f}/${r}`)};return e.jsxs(qe,{elevation:a?6:0,className:"subtopics_card",children:[e.jsx(Le,{avatar:a?e.jsx(le,{}):e.jsx(oe,{}),titleTypographyProps:{variant:"h5"},title:n}),e.jsx(Ae,{component:"img",image:ie,alt:"myImage"}),!p&&!a&&e.jsx(B,{disableSpacing:!0,children:e.jsx(b,{color:"secondary",onClick:l,endIcon:e.jsx(re,{}),"aria-expanded":p,size:"small",fullWidth:!0,variant:"contained",className:"learn-more-button",children:"Дізнатися більше"})}),!a&&e.jsx(Je,{in:p,timeout:"auto",unmountOnExit:!0,children:e.jsx(We,{children:ce(i)})}),p&&e.jsx(B,{disableSpacing:!0,children:e.jsx(b,{onClick:l,endIcon:e.jsx(ae,{}),color:"secondary","aria-expanded":p,size:"small",fullWidth:!0,variant:"contained",className:"learn-more-button",children:"Згорнути"})}),a?null:e.jsx(B,{disableSpacing:!0,children:e.jsx(b,{onClick:g,endIcon:e.jsx(ke,{}),color:"secondary",size:"small",fullWidth:!0,variant:"outlined",className:"goToTest",children:"Пройти тест"})})]})},gt=({historyList:i,setSelectedArticle:n,subArticleSuccessLevels:r,setSelectedSubArticle:a})=>{const{selectedArticle:p}=te(),x=ne(),l=parseInt(p||"0",10);n(l);const f=()=>{x(`/test/${l}`)},o=i[l],g=o.subtopics?o.subtopics.length:0,$=r[l].filter(s=>s).length,z=g>0?$/g*100:0,S=o.subtopics!==void 0&&!r[l].every(s=>s),I=Ne(),D=Re(I.breakpoints.up("md")),{isAuthenticated:k}=Me();_.useEffect(()=>{k||x("/")},[k]);const P=s=>{x(`/test/${s}`),n(s)},q=(s,c)=>{x(`/test/${s}/${c}`),n(s),a(c)},T=s=>{var L;const c=(L=i[s])==null?void 0:L.subtopics;if(c&&c.length>0){const j=c.findIndex((C,W)=>{var w;return!((w=r[s])!=null&&w[W])});j!==-1?q(s,j):P(s)}};return e.jsxs(Se,{className:"article_page_container",children:[e.jsx(Ie,{children:e.jsxs("title",{children:[" ",`Тема ${o.text}`]})}),e.jsx(u,{className:"back_button_container",container:!0,children:e.jsx(u,{item:!0,children:e.jsx(b,{component:De,to:"/timeline",color:"secondary",startIcon:e.jsx(Pe,{}),className:"close-button",children:"До Часопростору"})})}),e.jsx(v,{textAlign:"center",variant:"h6",className:"lesson",children:"Lesson"}),e.jsx(v,{textAlign:"center",className:"date",variant:"h5",children:o.date}),e.jsx(v,{textAlign:"center",className:"title",variant:"h4",children:o.text}),e.jsx(u,{container:!0,justifyContent:"center",children:e.jsx(u,{item:!0,xs:"auto",children:e.jsx(b,{className:"start_button_top",onClick:()=>T(l),variant:"contained",children:"Start Tests"})})}),e.jsx("img",{src:ie,alt:""}),e.jsx("div",{className:"content_container",children:o.content&&ce(o.content)}),o.subtopics&&o.subtopics.length===r[l].length&&e.jsxs(u,{className:"subtopic_card_list",container:!0,justifyContent:"center",children:[e.jsx(u,{item:!0,xs:12,sm:6,md:6,xl:6,children:e.jsx(v,{variant:"h6",children:"Пройдіть додаткові завдання перед головним тестом"})}),e.jsx(u,{className:"additional_test_progress_container",container:!0,justifyContent:"center",children:e.jsxs(u,{item:!0,xs:12,sm:6,md:6,xl:4,children:[e.jsx(Fe,{color:"primary",variant:"determinate",value:z}),e.jsxs(v,{variant:"body2",gutterBottom:!0,children:["Виконано: ",$," із ",g," (",z.toFixed(2),"%)"]})]})}),e.jsx(u,{item:!0,container:!0,xs:12,spacing:2,children:o.subtopics.map((s,c)=>e.jsx(u,{item:!0,xs:12,sm:6,md:4,xl:3,children:e.jsx(ut,{done:r[l][c],subArticleIndex:c,title:s.title,content:s.content})},c+"card"))})]}),e.jsx(u,{container:!0,justifyContent:"center",children:e.jsx(u,{item:!0,xs:12,sm:6,md:"auto",children:e.jsx(b,{disabled:S,size:"large",fullWidth:!D,variant:"contained",className:"quiz-button",onClick:f,children:"Завершити рівень"})})})]})};export{gt as default};
