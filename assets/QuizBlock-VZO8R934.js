import{e as z,f as A,s as g,_ as u,r as a,h as F,k as I,j as t,l as P,n as U,T as N,D as Ie,o as Me,p as Ne,q as fe,t as pe,S as ze,v as L,w as Ae,x as Fe,y as Pe,z as Ue,A as Ge,a as G,i as T,E as Te,B as b,F as Be,c as Le,d as Oe,U as Ee,b as Ve,C as qe,H as Qe,G as w,L as q,R as ne,I as He}from"./index-UTt69veg.js";import{d as We,a as Q}from"./ArrowForwardIos-W34S2GTU.js";import{c as ce,C as Ke,a as le,b as Ye}from"./CardHeader-Xl00ocrW.js";import{L as Ze}from"./LinearProgress-kJ8sCQgm.js";function Je(e){return z("MuiDialogActions",e)}A("MuiDialogActions",["root","spacing"]);const Xe=["className","disableSpacing"],et=e=>{const{classes:o,disableSpacing:s}=e;return U({root:["root",!s&&"spacing"]},Je,o)},tt=g("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,!s.disableSpacing&&o.spacing]}})(({ownerState:e})=>u({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),ot=a.forwardRef(function(o,s){const r=F({props:o,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1}=r,f=I(r,Xe),c=u({},r,{disableSpacing:l}),i=et(c);return t.jsx(tt,u({className:P(i.root,n),ownerState:c,ref:s},f))}),st=ot;function rt(e){return z("MuiDialogContent",e)}A("MuiDialogContent",["root","dividers"]);function at(e){return z("MuiDialogTitle",e)}const nt=A("MuiDialogTitle",["root"]),ct=nt,lt=["className","dividers"],it=e=>{const{classes:o,dividers:s}=e;return U({root:["root",s&&"dividers"]},rt,o)},ut=g("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>u({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${ct.root} + &`]:{paddingTop:0}})),dt=a.forwardRef(function(o,s){const r=F({props:o,name:"MuiDialogContent"}),{className:n,dividers:l=!1}=r,f=I(r,lt),c=u({},r,{dividers:l}),i=it(c);return t.jsx(ut,u({className:P(i.root,n),ownerState:c,ref:s},f))}),ft=dt,pt=["className","id"],xt=e=>{const{classes:o}=e;return U({root:["root"]},at,o)},vt=g(N,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),mt=a.forwardRef(function(o,s){const r=F({props:o,name:"MuiDialogTitle"}),{className:n,id:l}=r,f=I(r,pt),c=r,i=xt(c),{titleId:x=l}=a.useContext(Ie);return t.jsx(vt,u({component:"h2",className:P(i.root,n),ownerState:c,ref:s,variant:"h6",id:l??x},f))}),ht=mt;function gt(e){return z("MuiFormGroup",e)}A("MuiFormGroup",["root","row","error"]);const Ct=["className","row"],jt=e=>{const{classes:o,row:s,error:r}=e;return U({root:["root",s&&"row",r&&"error"]},gt,o)},Rt=g("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.row&&o.row]}})(({ownerState:e})=>u({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),$t=a.forwardRef(function(o,s){const r=F({props:o,name:"MuiFormGroup"}),{className:n,row:l=!1}=r,f=I(r,Ct),c=Me(),i=Ne({props:r,muiFormControl:c,states:["error"]}),x=u({},r,{row:l,error:i.error}),h=jt(x);return t.jsx(Rt,u({className:P(h.root,n),ownerState:x,ref:s},f))}),_t=$t,bt=fe(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),St=fe(t.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),yt=g("span",{shouldForwardProp:pe})({position:"relative",display:"flex"}),Dt=g(bt)({transform:"scale(1)"}),kt=g(St)(({theme:e,ownerState:o})=>u({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},o.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function xe(e){const{checked:o=!1,classes:s={},fontSize:r}=e,n=u({},e,{checked:o});return t.jsxs(yt,{className:s.root,ownerState:n,children:[t.jsx(Dt,{fontSize:r,className:s.background,ownerState:n}),t.jsx(kt,{fontSize:r,className:s.dot,ownerState:n})]})}const wt=a.createContext(void 0),ve=wt;function It(){return a.useContext(ve)}function Mt(e){return z("MuiRadio",e)}const Nt=A("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),ie=Nt,zt=["checked","checkedIcon","color","icon","name","onChange","size","className"],At=e=>{const{classes:o,color:s,size:r}=e,n={root:["root",`color${L(s)}`,r!=="medium"&&`size${L(r)}`]};return u({},o,U(n,Mt,o))},Ft=g(ze,{shouldForwardProp:e=>pe(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.size!=="medium"&&o[`size${L(s.size)}`],o[`color${L(s.color)}`]]}})(({theme:e,ownerState:o})=>u({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${o.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[o.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ae(o.color==="default"?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${ie.checked}`]:{color:(e.vars||e).palette[o.color].main}},{[`&.${ie.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function Pt(e,o){return typeof o=="object"&&o!==null?e===o:String(e)===String(o)}const ue=t.jsx(xe,{checked:!0}),de=t.jsx(xe,{}),Ut=a.forwardRef(function(o,s){var r,n;const l=F({props:o,name:"MuiRadio"}),{checked:f,checkedIcon:c=ue,color:i="primary",icon:x=de,name:h,onChange:S,size:d="medium",className:C}=l,y=I(l,zt),j=u({},l,{color:i,size:d}),p=At(j),R=It();let $=f;const M=Fe(S,R&&R.onChange);let D=h;return R&&(typeof $>"u"&&($=Pt(R.value,l.value)),typeof D>"u"&&(D=R.name)),t.jsx(Ft,u({type:"radio",icon:a.cloneElement(x,{fontSize:(r=de.props.fontSize)!=null?r:d}),checkedIcon:a.cloneElement(c,{fontSize:(n=ue.props.fontSize)!=null?n:d}),ownerState:j,classes:p,name:D,checked:$,onChange:M,ref:s,className:P(p.root,C)},y))}),Gt=Ut,Tt=["actions","children","defaultValue","name","onChange","value"],Bt=a.forwardRef(function(o,s){const{actions:r,children:n,defaultValue:l,name:f,onChange:c,value:i}=o,x=I(o,Tt),h=a.useRef(null),[S,d]=Pe({controlled:i,default:l,name:"RadioGroup"});a.useImperativeHandle(r,()=>({focus:()=>{let p=h.current.querySelector("input:not(:disabled):checked");p||(p=h.current.querySelector("input:not(:disabled)")),p&&p.focus()}}),[]);const C=Ue(s,h),y=Ge(f),j=a.useMemo(()=>({name:y,onChange(p){d(p.target.value),c&&c(p,p.target.value)},value:S}),[y,c,d,S]);return t.jsx(ve.Provider,{value:j,children:t.jsx(_t,u({role:"radiogroup",ref:C},x,{children:n}))})}),Lt=Bt;var H={},Ot=T;Object.defineProperty(H,"__esModule",{value:!0});var me=H.default=void 0,Et=Ot(G()),Vt=t,qt=(0,Et.default)((0,Vt.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");me=H.default=qt;var W={},Qt=T;Object.defineProperty(W,"__esModule",{value:!0});var he=W.default=void 0,Ht=Qt(G()),Wt=t,Kt=(0,Ht.default)((0,Wt.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");he=W.default=Kt;var K={},Yt=T;Object.defineProperty(K,"__esModule",{value:!0});var ge=K.default=void 0,Zt=Yt(G()),Jt=t,Xt=(0,Zt.default)((0,Jt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");ge=K.default=Xt;var Y={},eo=T;Object.defineProperty(Y,"__esModule",{value:!0});var Ce=Y.default=void 0,to=eo(G()),oo=t,so=(0,to.default)((0,oo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"DoNotDisturbOn");Ce=Y.default=so;var Z={},ro=T;Object.defineProperty(Z,"__esModule",{value:!0});var je=Z.default=void 0,ao=ro(G()),no=t,co=(0,ao.default)((0,no.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");je=Z.default=co;const lo=({openModal:e,handleClose:o})=>t.jsxs(Te,{open:e,onClose:o,children:[t.jsx(ht,{children:"Success!"}),t.jsx(ft,{children:t.jsx("p",{children:"Congratulations! You've successfully completed the quiz."})}),t.jsxs(st,{children:[t.jsx(b,{onClick:o,color:"primary",children:"Close"}),t.jsx(b,{onClick:o,color:"primary",children:"Next"})]})]}),xo=({questions:e,options:o,correctAnswers:s,onAnswer:r,historyList:n,setAllAnswerIsCorrect:l,testType:f="article",setSelectedSubArticle:c})=>{var oe,se,re,ae;const[i,x]=a.useState(0),[h,S]=a.useState(Array(e.length).fill("")),[d,C]=a.useState({correct:0,incorrect:0}),[y,j]=a.useState(!1),[p,R]=a.useState(!1),[$,M]=a.useState(""),[D,O]=a.useState(!1),{selectedArticle:Re,subtopicId:$e}=Be(),[_e,J]=a.useState(!1),v=parseInt(Re||"0",10);let _=0,k,B;const E=Le(),{isAuthenticated:X}=Oe();a.useEffect(()=>{c&&_!==void 0&&c(_)},[c,_]),f==="subArticle"?(_=parseInt($e||"0",10),console.log("selectedSubArticleNumber",_),console.log("selectedSubArticle",(se=(oe=n[v])==null?void 0:oe.subtopics)==null?void 0:se[_]),k=(ae=(re=n[v])==null?void 0:re.subtopics)==null?void 0:ae[_],B=k==null?void 0:k.title):(k=n[v],B=k.text,a.useEffect(()=>{X||E("/")},[X])),a.useEffect(()=>{d.correct===e.length&&(l(!0),R(!0),f==="subArticle"&&(J(!0),setTimeout(()=>{E(`/article/${v}`)},5e3)))},[d.correct,e.length]);const be=m=>{M(m),O(!0)},Se=()=>{x(0),S(Array(e.length).fill("")),C({correct:0,incorrect:0}),j(!1),M(""),O(!1)},{currentUser:ee}=a.useContext(Ee),te=()=>{$&&($===s[i]?C({...d,correct:d.correct+1}):C({...d,incorrect:d.incorrect+1}),i<e.length-1?(x(i+1),M(""),O(!1)):(r(d),j(!0)))},ye=m=>{m.key==="Enter"&&D&&te()},De=m=>m?t.jsx(ge,{color:"success"}):t.jsx(Ce,{color:"error"}),V=Ve(),ke=()=>{J(!1),E(`/article/${v}`)};return t.jsxs(qe,{children:[t.jsx(Qe,{children:t.jsxs("title",{children:[" ",`Тестування ${v}`]})}),t.jsxs(w,{className:"back_button_container",container:!0,justifyContent:"space-between",children:[t.jsx(w,{item:!0,children:t.jsx(b,{component:q,to:`/article/${v}`,startIcon:t.jsx(We,{}),children:"До бібліотеки"})}),t.jsx(w,{item:!0,children:t.jsx(b,{component:q,to:"/timeline",endIcon:t.jsx(me,{}),color:"secondary",children:"До Часопростору"})})]}),y?t.jsxs("div",{className:"finished_container",children:[t.jsx(N,{className:"title",variant:"h4",children:"Ваші Результати:"}),t.jsxs(ce,{className:"result_test_card",children:[t.jsx(Ke,{title:` ${o.length}/${d.correct}`,subheader:De(p)}),t.jsx(le,{children:t.jsx(Ze,{color:"success",value:Math.round(100/o.length*d.correct),variant:"determinate"})})]}),p?t.jsxs("div",{children:[t.jsx(w,{className:"icon_container",container:!0,justifyContent:"center",children:t.jsx(w,{item:!0,children:t.jsx(je,{fontSize:"large",color:"success",className:"pulse"})})}),f==="article"&&t.jsxs(ce,{sx:{background:V.palette.secondary.light},children:[t.jsx(le,{children:t.jsxs(N,{sx:{color:V.palette.text.secondary},children:["Вітаю, ",t.jsx(N,{component:"span",variant:"subtitle1",children:ee?ee.name:"Невідомий"}),", ви досягли наступного рівня. Тепер ви можити відправитися у наступний пункт нашої подорожі у часі."]})}),t.jsx(Ye,{children:t.jsx(b,{component:q,to:`/article/${v+1}`,fullWidth:!0,startIcon:t.jsx(Q,{}),color:"secondary",endIcon:t.jsx(Q,{}),variant:"contained",size:"large",children:v!==null?n[v+1].date:"Помилка у машині часу"})})]})]}):t.jsxs(ne.Fragment,{children:[t.jsx(N,{className:"textMessage",children:"Не сумуйте. Підготуйтесь та спробуйте знову"}),t.jsx(b,{fullWidth:!0,endIcon:t.jsx(he,{}),variant:"contained",onClick:Se,children:"Пройти ще раз"})]})]}):t.jsxs(ne.Fragment,{children:[t.jsxs("h1",{children:["Тема: ",B&&B]}),t.jsx("p",{children:e[i]}),t.jsx(Lt,{name:"radio-buttons-group",children:o[i].map((m,we)=>t.jsx(He,{className:V+" answer-quiz-button",onKeyPress:ye,onClick:()=>be(m),control:t.jsx(Gt,{checked:$===m}),label:m,value:m},we+"button"))}),t.jsx(w,{container:!0,justifyContent:"center",mt:2,children:t.jsx(b,{endIcon:t.jsx(Q,{}),variant:"contained",size:"large",onClick:te,disabled:!D,children:"Продовжити"})})]}),t.jsx(lo,{openModal:_e,handleClose:ke})]})};export{xo as default};
